# GraphQL queries are hierarchical and composed, describing a tree of information.
# While Scalar types describe the leaf values of these hierarchical queries, Objects describe the intermediate levels.

graphql:
	queries:
		allCameras:
			resolver: Adeira\Connector\Devices\Infrastructure\Delivery\API\GraphQL\Camera\AllCamerasResolver
			next: [Camera]

	outputTypes:
		Camera:
			resolver: Adeira\Connector\Devices\Infrastructure\Delivery\API\GraphQL\Camera\CameraResolver
			fields:
				id: ID!
				name: String!
				stream: Stream!

		Stream:
			resolver: Adeira\Connector\Devices\Infrastructure\Delivery\API\GraphQL\Camera\StreamResolver(
				Nette\Http\Url(%adeira.streamService.public%)
			)
			fields:
				hls: String!

	mutations:
		createCamera:
			arguments:
				streamSource: String!
				name: String!
			resolver: Adeira\Connector\Devices\Infrastructure\Delivery\API\GraphQL\Camera\CreateCameraResolver
			next: Camera

		removeCamera:
			arguments:
				cameraId: ID!
			resolver: Adeira\Connector\Devices\Infrastructure\Delivery\API\GraphQL\Camera\RemoveCameraResolver
			next: Camera
